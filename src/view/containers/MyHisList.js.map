{"version":3,"sources":["MyHisList.jsx"],"names":[],"mappings":";;;;;;;;AAAA,8BAA0B;;;;AAC1B,yCAAsC;;AAGtC,oDAA6C;;;;AAC7C,kEAA8D;;;;AAC9D,kFAA6D;;;;AAC7D,8BAA2C;;AAC3C,iDAAqE;;AACrE,gEAA4D;;;;AAC5D,0DAAsD;;;;AACtD,wDAAoD;;;;AACpD,0DAAsD;;;;AACtD,kDAA8C;;;;AAC9C,sDAAkD;;;;AAClD,wDAAoD;;;;;;;;;;;;;;IAG9C,SAAS;;;;;;;;;;;8CAEW,SAAS,EAAC;AAC5B,mBAAO,SAAS,CAAC,cAAc,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC;SAChE;;;iCAEQ;yBAEiC,IAAI,CAAC,KAAK;gBAA3C,cAAc,UAAd,cAAc;gBAAE,aAAa,UAAb,aAAa;;AAElC,gBAAI,cAAc,CAAC,YAAY,CAAC,MAAM,IAAI,CAAC,IAAI,cAAc,CAAC,SAAS,IAAI,IAAI,EAAE;AAC7E,6BAAa,CAAC,cAAc,EAAE,CAAC;aAClC;;AAED,gBAAI,KAAK,GAAG,CAAC,CAAC;;AAEd,mBACI;;kBAAK,SAAS,EAAE,oBAAO,aAAa,AAAC;gBACjC;;sBAAK,SAAS,EAAE,oBAAO,IAAI,AAAC;oBACxB;;0BAAK,SAAS,EAAE,oBAAO,GAAG,AAAC;wBACvB;;8BAAK,SAAS,EAAE,oBAAO,QAAQ,AAAC;4BAC5B;;;;6BAAW;yBACT;wBACN;;8BAAK,SAAS,EAAE,oBAAO,UAAU,AAAC;4BAC9B,uCAAK,SAAS,EAAE,oBAAO,OAAO,AAAC,GAAO;4BACtC,uCAAK,SAAS,EAAE,oBAAO,OAAO,AAAC,GAAO;4BACtC,uCAAK,SAAS,EAAE,oBAAO,OAAO,AAAC,GAAO;4BACtC;;kCAAK,SAAS,EAAE,oBAAO,OAAO,AAAC;gCAC3B;;sCAAQ,MAAM,EAAC,IAAI,EAAC,OAAO,EAAC,SAAS,EAAC,OAAO,EAAE,aAAa,CAAC,qBAAqB,AAAC;;iCAAc;6BAC/F;yBACJ;qBACJ;oBACN;;0BAAK,SAAS,EAAE,oBAAO,MAAM,AAAC;wBACzB,cAAc,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,GACnC,cAAc,CAAC,YAAY,CAAC,GAAG,CAAC,UAAA,OAAO;mCAAI,4DAAkB,GAAG,EAAE,OAAO,CAAC,EAAE,AAAC,EAAC,cAAc,EAAG,OAAO,AAAC,EAAC,QAAQ,EAAE,cAAc,CAAC,QAAQ,AAAC;AAChF,uCAAO,EAAE,EAAC,iBAAiB,EAAE,aAAa,CAAC,iBAAiB;AAClD,8CAAU,EAAE,aAAa,CAAC,UAAU;AACpC,+CAAW,EAAE,aAAa,CAAC,WAAW;iCAC/C,AAAC;8BAClB;yBAAA,CAC7C,GAAE,cAAc,CAAC,SAAS,GAAE;;;;yBAAqB,GAAG;;;;yBAAmB;qBAEtE;iBACJ;gBACN;;sBAAK,SAAS,EAAE,oBAAO,IAAI,AAAC;oBACxB;;0BAAK,SAAS,EAAE,oBAAO,GAAG,AAAC;wBACvB;;8BAAK,SAAS,EAAE,oBAAO,IAAI,AAAC;4BACxB,uCAAK,SAAS,EAAE,oBAAO,IAAI,AAAC,GACtB;4BACN;;kCAAK,SAAS,EAAE,oBAAO,OAAO,AAAC;gCACzB,cAAc,CAAC,QAAQ,IAAI,CAAC,CAAC,GAC3B;;;oCACI;;0CAAQ,MAAM,EAAC,IAAI,EAAC,OAAO,EAAC,SAAS,EAAC,QAAQ,MAAA;;qCAAc;iCAChD,GAEhB;;;oCACI;;0CAAQ,MAAM,EAAC,IAAI,EAAC,OAAO,EAAC,SAAS;AAC7B,mDAAO,EAAE;uDAAI,aAAa,CAAC,kBAAkB,CAAC,cAAc,CAAC,QAAQ,CAAC;6CAAA,AAAC;;qCAAc;iCACjF;6BAElB;yBACJ;qBACJ;oBAEN;;0BAAK,SAAS,EAAE,oBAAO,MAAM,AAAC;wBACtB,AAAC,cAAc,CAAC,eAAe,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,SAAS,IAAI,cAAc,CAAC,eAAe,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,MAAM,IAAI,CAAC,GAC5I;;8BAAK,SAAS,EAAE,oBAAO,YAAY,AAAC;;yBAAW,GAE/C;;8BAAK,SAAS,EAAE,oBAAO,OAAO,AAAC;4BACvB,gBAAgB,CAAC,cAAc,CAAC,eAAe,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,GACzE;;kCAAK,SAAS,EAAE,oBAAO,YAAY,AAAC;gCAChC;;sCAAK,SAAS,EAAE,oBAAO,QAAQ,AAAC;oCAC5B,oDAAU,cAAc,EAAE,cAAc,CAAC,eAAe,CAAC,cAAc,CAAC,QAAQ,CAAC,AAAC,GAAE;iCAClF;gCACN,uCAAK,SAAS,EAAE,oBAAO,UAAU,AAAC,GAE5B;6BACJ,GAEN;;kCAAK,SAAS,EAAE,oBAAO,WAAW,AAAC;gCAC/B;;sCAAK,SAAS,EAAE,oBAAO,SAAS,AAAC;oCAEzB,cAAc,CAAC,eAAe,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,GAAG,CACvD,UAAC,IAAI,EAAE,KAAK,EAAI;AACZ,+CAAO,sDAAY,GAAG,EAAE,IAAI,CAAC,MAAM,AAAC,EAAC,cAAc,EAAE,IAAI,AAAC;AACvC,iDAAK,EAAE,KAAK,AAAC,GAAE,CAAA;qCACrC,CACJ;iCAEH;gCACN;;sCAAK,SAAS,EAAE,oBAAO,QAAQ,AAAC;oCAC5B,oDAAU,cAAc,EAAE,cAAc,CAAC,eAAe,CAAC,cAAc,CAAC,QAAQ,CAAC,AAAC,GAAE;iCAClF;gCACN,uCAAK,SAAS,EAAE,oBAAO,UAAU,AAAC,GAE5B;6BACJ;yBAER;qBAER;iBAEJ;gBAEN,2DAAiB,cAAc,EAAE,cAAc,CAAC,eAAe,AAAC;AAC/C,2BAAO,EAAE,EAAC,mBAAmB,EAAE,aAAa,CAAC,mBAAmB;AACtD,kCAAU,EAAE,aAAa,CAAC,UAAU;AACpC,gCAAQ,EAAE,aAAa,CAAC,QAAQ;AAChC,0CAAkB,EAAE,aAAa,CAAC,kBAAkB;qBACrD,AACR;kBAChB;gBAEF,wDAAc,cAAc,EAAE,cAAc,CAAC,YAAY,AAAC;AACzC,2BAAO,EAAE,EAAC,gBAAgB,EAAE,aAAa,CAAC,gBAAgB;AACtD,kCAAU,EAAE,aAAa,CAAC,UAAU;AACpC,gCAAQ,EAAE,aAAa,CAAC,QAAQ;AAChC,0CAAkB,EAAE,aAAa,CAAC,kBAAkB;AACpD,qCAAa,EAAC,aAAa,CAAC,aAAa;AACzC,uCAAe,EAAC,aAAa,CAAC,eAAe;AAC7C,sCAAc,EAAE,aAAa,CAAC,cAAc;qBAC3C,AACJ;kBAChB;gBAEF,wDAAc,cAAc,EAAE,cAAc,CAAC,YAAY,AAAC;AAC5C,2BAAO,EAAE;AACL,wCAAgB,EAAE,aAAa,CAAC,gBAAgB;AAChD,kCAAU,EAAE,aAAa,CAAC,UAAU;qBACvC,AAAC;;kBAEd;gBAEF,uDAAa,cAAc,EAAE,cAAc,CAAC,WAAW,AAAC,EAAC,OAAO,EAAE,EAAC,eAAe,EAAE,aAAa,CAAC,eAAe,EAAC,AAAC,GAAE;aAEnH,CACR;SACL;;;;EAzImB,gBAAM,SAAS;;AA6IvC,SAAS,WAAW,CAAC,KAAK,EAAE;AACxB,WAAO;AACH,sBAAc,EAAE,KAAK,CAAC,cAAc;KACvC,CAAC;CACL;;AAED,SAAS,qBAAqB,CAAC,QAAQ,EAAE;AACrC,WAAO;AACH,qBAAa,EAAE,mEAA4B,QAAQ,CAAC;KACvD,CAAC;CACL;;AAED,SAAS,gBAAgB,CAAC,IAAI,EAAE;AAC5B,QAAI,GAAG,GAAG,KAAK,CAAC;AAChB,SAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,IAAI,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC1B,YAAG,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,GAAE,CAAC,EAAC;AACpB,eAAG,GAAG,IAAI,CAAC;AACX,kBAAM;SACT;KACJ;AACD,WAAO,GAAG,CAAC;CACd;;kBAGc,yBAAQ,WAAW,EAAC,qBAAqB,CAAC,CAAC,SAAS,CAAC","file":"MyHisList.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\n// import PureRenderMixin from 'react-addons-pure-render-mixin';\n// import { render } from 'react-dom';\nimport styles from '../styles/MyHisList.css';\nimport ProjectsListItem from '../components/ProjectsListItem';\nimport actions from '../../actions/myHisListAction_creators';\nimport { bindActionCreators } from 'redux';\nimport { Button,Col,ListGroup,ButtonToolbar } from 'react-bootstrap';\nimport AddProjectModal from '../components/AddProjectModal';\nimport ConfirmModal from '../components/ConfirmModal';\nimport ResultModal from '../components/ResultModal';\nimport AddItemModal from '../components/AddItemModal';\nimport MyCanvas from '../components/MyCanvas';\nimport ItemInMain from '../components/ItemInMain';\nimport ItemInMainR from '../components/ItemInMainR';\n\n\nclass MyHisList extends React.Component {\n\n    shouldComponentUpdate(nextProps){\n        return nextProps.containerState != this.props.containerState;\n    }\n\n    render() {\n\n        let {containerState, actioncreator} = this.props;\n\n        if (containerState.projectsList.length == 0 && containerState.justLogin == true) {\n            actioncreator.getAllProjects();\n        }\n\n        let ileft = 0;\n\n        return (\n            <div className={styles.myHisListMain}>\n                <div className={styles.list}>\n                    <div className={styles.top}>\n                        <div className={styles.infoarea}>\n                            <p>我的笔记</p>\n                        </div>\n                        <div className={styles.buttonarea}>\n                            <div className={styles.button1}></div>\n                            <div className={styles.button1}></div>\n                            <div className={styles.button1}></div>\n                            <div className={styles.button1}>\n                                <Button bsSize=\"sm\" bsStyle=\"success\" onClick={actioncreator.addProjectButtonClick}>新建笔记</Button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={styles.bottom}>\n                        {containerState.projectsList.length > 0 ?\n                            containerState.projectsList.map(project => <ProjectsListItem key={project.id} componentState ={project} activeId={containerState.activeId}\n                                                                                      actions={{getProjectContent: actioncreator.getProjectContent,\n                                                                                                deleteProj: actioncreator.deleteProj,\n                                                                                                showConfirm: actioncreator.showConfirm,\n                                                                                      }}\n                                                                    />\n                        ): containerState.justLogin? <div>loading...</div> : <div>暂无项目,请创建</div>\n                        }\n                    </div>\n                </div>\n                <div className={styles.main}>\n                    <div className={styles.top}>\n                        <div className={styles.top2}>\n                            <div className={styles.info}>\n                            </div>\n                            <div className={styles.toolbar}>\n                                { containerState.activeId == -1?\n                                    <ButtonToolbar>\n                                        <Button bsSize=\"sm\" bsStyle=\"success\" disabled>新增事件</Button>\n                                    </ButtonToolbar>\n                                    :\n                                    <ButtonToolbar>\n                                        <Button bsSize=\"sm\" bsStyle=\"success\"\n                                                onClick={()=>actioncreator.addItemButtonClick(containerState.activeId)}>新增事件</Button>\n                                    </ButtonToolbar>\n                                }\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={styles.bottom}>\n                        {   (containerState.projectContents[containerState.activeId] == undefined || containerState.projectContents[containerState.activeId].length == 0) ?\n                            <div className={styles.bottom2empty}>空空如也</div>\n                            :\n                            <div className={styles.bottom2}>\n                                {   hasHighLevelItem(containerState.projectContents[containerState.activeId])?\n                                    <div className={styles.hashighlevel}>\n                                        <div className={styles.timeline}>\n                                            <MyCanvas componentState={containerState.projectContents[containerState.activeId]}/>\n                                        </div>\n                                        <div className={styles.itemsright}>\n\n                                        </div>\n                                    </div>\n                                    :\n                                    <div className={styles.nohighlevel}>\n                                        <div className={styles.itemsleft}>\n                                            {\n                                                containerState.projectContents[containerState.activeId].map(\n                                                    (item, index)=> {\n                                                        return <ItemInMain key={item.itemId} componentState={item}\n                                                                           index={index}/>\n                                                    }\n                                                )\n                                            }\n                                        </div>\n                                        <div className={styles.timeline}>\n                                            <MyCanvas componentState={containerState.projectContents[containerState.activeId]}/>\n                                        </div>\n                                        <div className={styles.itemsright}>\n\n                                        </div>\n                                    </div>\n                                }\n                            </div>\n                        }\n                    </div>\n\n                </div>\n\n                <AddProjectModal componentState={containerState.addProjectModal}\n                                 actions={{shutAddProjectModal: actioncreator.shutAddProjectModal,\n                                           createProj: actioncreator.createProj,\n                                           popAlert: actioncreator.popAlert,\n                                           shutSelfCheckModal: actioncreator.shutSelfCheckModal\n                                         }\n                                 }\n                />\n\n                <AddItemModal componentState={containerState.addItemModal}\n                                 actions={{shutAddItemModal: actioncreator.shutAddItemModal,\n                                     createItem: actioncreator.createItem,\n                                     popAlert: actioncreator.popAlert,\n                                     shutSelfCheckModal: actioncreator.shutSelfCheckModal,\n                                     changeTmRadio:actioncreator.changeTmRadio,\n                                     changeYearRadio:actioncreator.changeYearRadio,\n                                     createProjItem: actioncreator.createProjItem\n                                     }\n                                 }\n                />\n\n                <ConfirmModal componentState={containerState.confirmModal}\n                              actions={{\n                                  shutConfirmModal: actioncreator.shutConfirmModal,\n                                  deleteProj: actioncreator.deleteProj\n                              }}\n\n                />\n\n                <ResultModal componentState={containerState.resultModal} actions={{shutResultModal: actioncreator.shutResultModal}}/>\n\n            </div>\n        );\n    }\n\n}\n\nfunction selectState(state) {\n    return {\n        containerState: state.myHisListState\n    };\n}\n\nfunction buildActionDispatcher(dispatch) {\n    return {\n        actioncreator: bindActionCreators(actions, dispatch)\n    };\n}\n\nfunction hasHighLevelItem(list) {\n    let ret = false;\n    for(let i=0;i<list.length;i++){\n        if(list[i].itemLevel >0){\n            ret = true;\n            break;\n        }\n    }\n    return ret;\n}\n\n\nexport default connect(selectState,buildActionDispatcher)(MyHisList);"]}