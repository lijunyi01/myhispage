{"version":3,"sources":["MyHisList.jsx"],"names":[],"mappings":"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","file":"MyHisList.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\n// import PureRenderMixin from 'react-addons-pure-render-mixin';\nimport { render,findDOMNode } from 'react-dom';\nimport styles from '../styles/MyHisList.css';\nimport ProjectsListItem from '../components/ProjectsListItem';\nimport actions from '../../actions/myHisListAction_creators';\nimport { bindActionCreators } from 'redux';\nimport { Button,Col,ListGroup,ButtonToolbar } from 'react-bootstrap';\nimport AddProjectModal from '../components/AddProjectModal';\nimport ConfirmModal from '../components/ConfirmModal';\nimport ResultModal from '../components/ResultModal';\nimport AddItemModal from '../components/AddItemModal';\nimport MyCanvas from '../components/MyCanvas';\nimport ItemInMain from '../components/ItemInMain';\nimport ChangeTipsModal from '../components/ChangeTipsModal';\n\n\n\nlet itemInMainParam = {};\n\nclass MyHisList extends React.Component {\n\n    shouldComponentUpdate(nextProps){\n        return nextProps.containerState != this.props.containerState;\n    }\n\n    componentDidMount(){\n        //延时调用\n        // setTimeout(()=>{\n        //     console.log(\"MyHisList did mount\");\n        // },5000);\n\n        // setInterval(()=>{\n        //     console.log(\"MyHisList did mount\");\n        // },5000);\n\n        window.addEventListener('resize',()=>{console.log('window resize');this.setCanvasWidth()},false);\n\n    }\n\n\n    componentDidUpdate() {\n\n        this.setCanvasWidth();\n\n    }\n\n    setCanvasWidth() {\n        let {containerState, actioncreator} = this.props;\n\n        console.log(\"set canvas width\");\n        let divdom = findDOMNode(this.refs.canvasdiv2);\n        if(divdom != undefined) {\n            let specs = divdom.getBoundingClientRect();\n            let canvasWidth = specs.width;\n            console.log(\"width:\" + canvasWidth);\n            if (canvasWidth != containerState.canvasWidthforActiveId) {\n                actioncreator.setCanvasWidth(canvasWidth);\n            }\n        }\n\n    }\n\n    getLeftPos(projectId,index,topPos,timeLineBeginYear,pxPerYear){\n\n        let { containerState } = this.props;\n\n        let itemList = containerState.projectContents[projectId];\n\n        let leftPos;\n\n        if(index%2 ==0) {\n            leftPos =40;\n            if (index >= 2) {\n                if (topPos == itemInMainParam[index - 2].topPos) {\n                    leftPos = itemInMainParam[index - 2].leftPos - 15;\n\n                } else if (Math.abs(topPos - itemInMainParam[index - 2].topPos) < 90) {\n                    if (itemInMainParam[index - 2].leftPos == 40) {\n                        leftPos = 50;\n                    }\n                }\n\n            }\n        }else{\n            leftPos = containerState.canvasWidthforActiveId/0.3*0.65;\n            if (index >= 2) {\n                if (topPos == itemInMainParam[index - 2].topPos) {\n                    leftPos = itemInMainParam[index - 2].leftPos + 15;\n\n                } else if (Math.abs(topPos - itemInMainParam[index - 2].topPos) < 90) {\n                    if (itemInMainParam[index - 2].leftPos == leftPos) {\n                        leftPos = leftPos -10;\n                    }\n                }\n\n            }\n        }\n        return leftPos;\n    }\n\n    getTopPos(projectId,index,timeLineBeginYear,pxPerYear){\n\n        let { containerState } = this.props;\n        let marginTop = 30;\n        let topPos = marginTop;\n\n        let itemList = containerState.projectContents[projectId];\n\n        if(itemList[index].itemType < 3) {    //点事件\n            topPos = (itemList[index].startYear - timeLineBeginYear) * pxPerYear - 40 + marginTop;\n        }else{       //段事件\n            let rectTopY = (itemList[index].startYear - timeLineBeginYear) * pxPerYear + marginTop;\n            let rectHeight = (itemList[index].endYear - itemList[index].startYear) * pxPerYear;\n            topPos = rectTopY + rectHeight/2 -40;\n        }\n\n        return topPos;\n    }\n\n    render() {\n\n        let {containerState, actioncreator} = this.props;\n\n        if (containerState.projectsList.length == 0 && containerState.justLogin == true) {\n            actioncreator.getAllProjects();\n        }\n\n        itemInMainParam = {};\n\n        let lastYear = 0;\n        let earlyYear = 0;\n        let projectItemList = containerState.projectContents[containerState.activeId];\n        if( projectItemList != undefined) {\n            for (let i = 0; i < projectItemList.length; i++) {\n                if (earlyYear == 0) {\n                    earlyYear = projectItemList[i].startYear;\n                } else {\n                    if (projectItemList[i].startYear < earlyYear) {\n                        earlyYear = projectItemList[i].startYear;\n                    }\n                }\n\n                if (lastYear == 0) {\n                    lastYear = projectItemList[i].endYear;\n                } else {\n                    if (projectItemList[i].endYear > lastYear) {\n                        lastYear = projectItemList[i].endYear;\n                    }\n                }\n            }\n        }\n\n        let yearLength = lastYear - earlyYear;\n        let pxPerYear = getPxPerYear(yearLength);\n        let yearInterval = getYearInterval(yearLength);\n        let timeLineBeginYear = getTimeLineBeginYear(earlyYear,yearInterval);\n\n        return (\n            <div className={styles.myHisListMain}>\n                <div className={styles.list} style={{display:(containerState.fullsizeShow?\"none\":\"block\")}}>\n                    <div className={styles.top}>\n                        <div className={styles.infoarea}>\n                            <p>我的笔记</p>\n                        </div>\n                        <div className={styles.buttonarea}>\n                            <div className={styles.button1}></div>\n                            <div className={styles.button1}></div>\n                            <div className={styles.button1}></div>\n                            <div className={styles.button1}>\n                                <Button bsSize=\"sm\" bsStyle=\"success\" onClick={actioncreator.addProjectButtonClick}>新建笔记</Button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={styles.bottom}>\n                        {containerState.projectsList.length > 0 ?\n                            containerState.projectsList.map(project => <ProjectsListItem key={project.id} componentState ={project} activeId={containerState.activeId}\n                                                                                      actions={{getProjectContent: actioncreator.getProjectContent,\n                                                                                                deleteProj: actioncreator.deleteProj,\n                                                                                                showConfirm: actioncreator.showConfirm,\n                                                                                      }}\n                                                                    />\n                        ): containerState.justLogin? <div>loading...</div> : <div>暂无项目,请创建</div>\n                        }\n                    </div>\n                </div>\n                <div className={styles.main} style={{width:(containerState.fullsizeShow?\"100%\":\"calc(100% - 300px)\")}}>\n                    <div className={styles.top} style={{display:(containerState.fullsizeShow?\"none\":\"block\")}}>\n                        <div className={styles.top2}>\n                            <div className={styles.info}>\n                            </div>\n                            <div className={styles.toolbar}>\n                                { containerState.activeId == -1?\n                                    <ButtonToolbar>\n                                        <Button bsSize=\"sm\" bsStyle=\"success\" disabled>新增事件</Button>\n                                    </ButtonToolbar>\n                                    :\n                                    <ButtonToolbar>\n                                        <Button bsSize=\"sm\" bsStyle=\"success\"\n                                                onClick={()=>actioncreator.addItemButtonClick(containerState.activeId)}>新增事件</Button>\n                                    </ButtonToolbar>\n                                }\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={styles.bottom}>\n                        {   (containerState.projectContents[containerState.activeId] == undefined || containerState.projectContents[containerState.activeId].length == 0) ?\n                            <div className={styles.bottom2empty}>空空如也</div>\n                            :\n                            <div className={styles.bottom2}>\n                                {   hasHighLevelItem(containerState.projectContents[containerState.activeId])?\n                                    <div className={styles.timebackground}>\n                                        <div id='canvasdiv1' className={styles.timeline}>\n                                            <MyCanvas componentState={containerState.projectContents[containerState.activeId]}/>\n                                        </div>\n                                        <div className={styles.itemsright}>\n\n                                        </div>\n                                    </div>\n                                    :\n                                    <div className={styles.notimebackground}>\n\n                                        {\n                                            containerState.projectContents[containerState.activeId].map(\n                                                (item, index)=> {\n                                                    let topPos=0;\n                                                    topPos = this.getTopPos(containerState.activeId,index,timeLineBeginYear,pxPerYear);\n                                                    let leftPos=0;\n                                                    leftPos = this.getLeftPos(containerState.activeId,index,topPos,timeLineBeginYear,pxPerYear);\n                                                    itemInMainParam[index] = {'topPos':topPos,'leftPos':leftPos};\n\n                                                    return <ItemInMain key={item.itemId} componentState={item} leftPos={leftPos} topPos={topPos} index={index}\n                                                                       actions={{modifyTipsButtonClick:actioncreator.modifyTipsButtonClick,\n                                                                       }}\n                                                           />\n                                                }\n                                            )\n                                        }\n                                        <div ref=\"canvasdiv2\" className={styles.timeline}>\n                                            <MyCanvas componentState={containerState.projectContents[containerState.activeId]} canvasWidth={containerState.canvasWidthforActiveId}\n                                                      pxPerYear={pxPerYear} timeLineBeginYear={timeLineBeginYear} lastYear={lastYear} earlyYear={earlyYear} yearInterval={yearInterval}/>\n                                        </div>\n\n                                    </div>\n                                }\n                            </div>\n                        }\n                    </div>\n\n                </div>\n\n                <AddProjectModal componentState={containerState.addProjectModal}\n                                 actions={{shutAddProjectModal: actioncreator.shutAddProjectModal,\n                                           createProj: actioncreator.createProj,\n                                           popAlert: actioncreator.popAlert,\n                                           shutSelfCheckModal: actioncreator.shutSelfCheckModal\n                                         }\n                                 }\n                />\n\n                <AddItemModal componentState={containerState.addItemModal}\n                                 actions={{shutAddItemModal: actioncreator.shutAddItemModal,\n                                     createItem: actioncreator.createItem,\n                                     popAlert: actioncreator.popAlert,\n                                     shutSelfCheckModal: actioncreator.shutSelfCheckModal,\n                                     changeTmRadio:actioncreator.changeTmRadio,\n                                     changeYearRadio:actioncreator.changeYearRadio,\n                                     createProjItem: actioncreator.createProjItem\n                                     }\n                                 }\n                />\n\n                <ConfirmModal componentState={containerState.confirmModal}\n                              actions={{\n                                  shutConfirmModal: actioncreator.shutConfirmModal,\n                                  deleteProj: actioncreator.deleteProj\n                              }}\n\n                />\n\n                <ChangeTipsModal componentState={containerState.changeTipsModal}\n                                 itemTipMapList={(containerState.activeId != -1 && containerState.activeItemIndex!= -1)? containerState.projectContents[containerState.activeId][containerState.activeItemIndex].itemTipMapList :[]}\n                                 actions={{\n                                     shutChangeTipsModal: actioncreator.shutChangeTipsModal,\n                                 }}\n                />\n\n                <ResultModal componentState={containerState.resultModal} actions={{shutResultModal: actioncreator.shutResultModal}}/>\n\n            </div>\n        );\n    }\n\n}\n\nfunction selectState(state) {\n    return {\n        containerState: state.myHisListState\n    };\n}\n\nfunction buildActionDispatcher(dispatch) {\n    return {\n        actioncreator: bindActionCreators(actions, dispatch)\n    };\n}\n\nfunction hasHighLevelItem(list) {\n    let ret = false;\n    for (let i = 0; i < list.length; i++) {\n        if (list[i].itemLevel > 0) {\n            ret = true;\n            break;\n        }\n    }\n    return ret;\n}\n\nfunction getPxPerYear(yearLength) {\n    let ret;\n    if(yearLength <50){\n        ret = 30;\n    }else if(yearLength <100){\n        ret = 20;\n    }else if(yearLength <500){\n        ret = 10;\n    }else if(yearLength <1000){\n        ret = 5;\n    }else if(yearLength <5000){\n        ret = 1;\n    }else{\n        ret = 5000/yearLength;\n    }\n    return ret;\n}\n\nfunction getYearInterval(yearLength) {\n    let ret;\n    if(yearLength <50){\n        ret = 5;\n    }else if(yearLength <100){\n        ret = 10;\n    }else if(yearLength <500){\n        ret = 25;\n    }else if(yearLength <1000){\n        ret = 50;\n    }else if(yearLength <5000){\n        ret = 100;\n    }else{\n        ret = 200;\n    }\n    return ret;\n}\n\nfunction getTimeLineBeginYear(earlyYear,yearInterval) {\n    let ret = 0;\n    if(earlyYear < 0){\n        ret = ((parseInt(earlyYear/yearInterval))-1)*yearInterval;\n    }else{\n        if(earlyYear == (parseInt(earlyYear/yearInterval))*yearInterval){    //earlyYear 在箭头起点,则将箭头起点提前\n            ret = earlyYear - yearInterval;\n        }else {\n            ret = (parseInt(earlyYear / yearInterval)) * yearInterval;\n        }\n    }\n    return ret;\n}\n\n\nexport default connect(selectState,buildActionDispatcher)(MyHisList);"]}